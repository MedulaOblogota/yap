#made by shlomi ol70
BASE = ./

COMMAND = $(BASE)command
UDPMANAGER = $(BASE)udp_manager
UDPINPUTANALYZER = $(BASE)udp_input_analyzer

FDLISTENER = $(BASE)fdlistener
REACTOR = $(BASE)reactor
DIRMONITOR = $(BASE)dir_monitor
FACTORYSYNC = $(BASE)factorysync

LOGGER = $(BASE)logger
WRITE_CMD = $(BASE)write
READ_CMD = $(BASE)read
UDP = $(BASE)udp2

MAIN = $(BASE)main

PI = 0

.PHONY: MAKEOTHER
MAKEOTHER:
	make MAKE_EXP_SO MAKE_TEST_OUT MAKE_OBJ MAKE_IMP_SO MAKE_MAIN

.PHONY: MAKE_EXP_SO
MAKE_EXP_SO:
	$(MAKE) -C $(LOGGER) PI=$(PI)

.PHONY: MAKE_IMP_SO
MAKE_IMP_SO:
	$(MAKE) -C $(WRITE_CMD) PI=$(PI)
	$(MAKE) -C $(READ_CMD) PI=$(PI)

.PHONY: MAKE_OBJ
MAKE_OBJ:
	$(MAKE) -C $(COMMAND) PI=$(PI)
	$(MAKE) -C $(UDPMANAGER) PI=$(PI)
	$(MAKE) -C $(UDPINPUTANALYZER) PI=$(PI)
	$(MAKE) -C $(UDP) PI=$(PI)
	$(MAKE) -C $(FACTORYSYNC) PI=$(PI)

.PHONY: MAKE_TEST_OUT
MAKE_TEST_OUT:
	$(MAKE) -C $(FDLISTENER) PI=$(PI)
	$(MAKE) -C $(REACTOR) PI=$(PI)
	$(MAKE) -C $(DIRMONITOR) PI=$(PI)

.PHONY: MAKE_MAIN
MAKE_MAIN:
	$(MAKE) -C $(MAIN) PI=$(PI)

.PHONY: CLEAN
CLEAN:
	-$(MAKE) -C $(COMMAND) CLEAN
	-$(MAKE) -C $(SOCKET) CLEAN
	-$(MAKE) -C $(LOGGER) CLEAN
	-$(MAKE) -C $(MAIN) CLEAN
	-$(MAKE) -C $(REACTOR) CLEAN
	-$(MAKE) -C $(WRITE_CMD) CLEAN
	-$(MAKE) -C $(READ_CMD) CLEAN
	-$(MAKE) -C $(DIRMONITOR) CLEAN
